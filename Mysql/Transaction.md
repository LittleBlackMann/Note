# Mysql 事务

## 一、事务及特性

> 数据库事务是数据库执行过程中的一个逻辑单元,由一个有限的数据库操作序列构成,区别文件系统的重要特性之一.

### 事务拥有的四个特性

1. 原子性 (Atomicity)

> 事务开始后所有的操作,要么全部做完,要么都不做.如:插入 100 条数据,操作前10条失败那么后 90条不再执行,新增的10条也会被回滚.

2. 一致性 (Consistency)

> 事务将从数据库的一种状态,变化成另外一种状态,事务开始前和结束后,数据库的完整性约束没有被破坏.如:用户id 通过修改用户id事务后,用户id 变得非唯一了,则表明遭到了破坏.

3. 隔离型 (Isolation)

> 要求每个读写事务对其他事务的操作对象能相互分离,即该事务提交前对其他事务不可见.也可以理解为多个事务并发访问时,事务之间是隔离的.一个事务不应该影响其他事务的运行结果,指在兵法环境中,当不同的事务同时操作相同的数据时,每个事务都有各自的完整数据空间.由并发事务所做的修改不影响其他事务.例如一个用户更新自己的个人信息的同时,是不能看到系统管理员也在更新该用户的个人信息的.(未提交时)

4. 持久性 (Durability)

> 事务一旦提交,则结果是永久性的,即使发生宕机故障,数据库也能将数据恢复,也就是说事务完成后,事务对数据库的所有更新将保存到数据库,不能回滚,这只是从事务本身的角度来保证

注: mysql 使用 redo log 来保证事物持久性的.

## 二、事务隔离级别

